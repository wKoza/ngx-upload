/**
 * @wkoza/ngx-upload - Upload module for Angular
 * @version v6.4.0
 * @author William Koza <william.koza@gmail.com>
 * @link https://github.com/wKoza/ngx-upload#readme
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/forms"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/forms","@angular/common/http"],e):"object"==typeof exports?exports["ngx-upload"]=e(require("@angular/core"),require("@angular/forms"),require("@angular/common/http")):t["ngx-upload"]=e(t.ng.core,t.ng.forms,t.ng.commonHttp)}(this,function(t,e,r){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=56)}([function(t,e,r){"use strict";function n(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}e.a=n;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)}},function(t,e,r){"use strict";function n(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}r.d(e,"a",function(){return c});var o=r(110),i=r(12),s=r(50),u=r(19),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,n){var i=this.operator,s=r.i(o.a)(t,e,n);if(i?i.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=n(e))(function(e,n){var o;o=r.subscribe(function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[i.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:r.i(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=n(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}()},function(t,e,r){"use strict";function n(t){return t.reduce(function(t,e){return t.concat(e instanceof a.a?e.errors:e)},[])}r.d(e,"a",function(){return f});var o=r(4),i=r(48),s=r(21),u=r(111),c=r(45),a=r(44),f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var f=this,l=f._parent,h=f._parents,p=f._unsubscribe,d=f._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var v=-1,b=h?h.length:0;l;)l.remove(this),l=++v<b&&h[v]||null;if(r.i(s.a)(p)){var y=r.i(u.a)(p).call(this);y===c.a&&(e=!0,t=t||(c.a.e instanceof a.a?n(c.a.e.errors):[c.a.e]))}if(r.i(o.a)(d))for(v=-1,b=d.length;++v<b;){var g=d[v];if(r.i(i.a)(g)){var y=r.i(u.a)(g.unsubscribe).call(g);if(y===c.a){e=!0,t=t||[];var m=c.a.e;m instanceof a.a?t=t.concat(n(m.errors)):t.push(m)}}}if(e)throw new a.a(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this,r=e._parent,n=e._parents;r&&r!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},function(t,e,r){"use strict";function n(t){return t instanceof l||"syncErrorThrowable"in t&&t[c.a]}r.d(e,"a",function(){return l});var o=r(0),i=r(21),s=r(36),u=r(2),c=r(29),a=r(19),f=r(30),l=function(t){function e(e,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.a;break;case 1:if(!e){i.destination=s.a;break}if("object"==typeof e){if(n(e)){var u=e[c.a]();i.syncErrorThrowable=u.syncErrorThrowable,i.destination=u,u.add(i)}else i.syncErrorThrowable=!0,i.destination=new h(i,e);break}default:i.syncErrorThrowable=!0,i.destination=new h(i,e,r,o)}return i}return o.a(e,t),e.prototype[c.a]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,r=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=r,this},e}(u.a),h=function(t){function e(e,n,o,u){var c=t.call(this)||this;c._parentSubscriber=e;var a,f=c;return r.i(i.a)(n)?a=n:n&&(a=n.next,o=n.error,u=n.complete,n!==s.a&&(f=Object.create(n),r.i(i.a)(f.unsubscribe)&&c.add(f.unsubscribe.bind(f)),f.unsubscribe=c.unsubscribe.bind(c))),c._context=f,c._next=a,c._error=o,c._complete=u,c}return o.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):r.i(f.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;r.i(f.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw t;r.i(f.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(r.i(f.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";function n(t){return t?o(t):s}function o(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}r.d(e,"b",function(){return s}),e.a=n;var i=r(1),s=new i.a(function(t){return t.complete()})},function(e,r){e.exports=t},function(t,e,r){"use strict";function n(t){return t&&"function"==typeof t.schedule}e.a=n},function(t,e,r){"use strict";r.d(e,"b",function(){return f}),r.d(e,"a",function(){return l});var n=r(0),o=r(1),i=r(3),s=r(2),u=r(20),c=r(38),a=r(29),f=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n.a(e,t),e}(i.a),l=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.a(e,t),e.prototype[a.a]=function(){return new f(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new c.a(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(o.a),h=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(l)},function(t,e,r){"use strict";function n(t,e){if(!e)return t instanceof o.a?t:new o.a(r.i(p.a)(t));if(null!=t){if(r.i(u.a)(t))return r.i(h.a)(t,e);if(r.i(i.a)(t))return r.i(f.a)(t,e);if(r.i(s.a)(t))return r.i(a.a)(t,e);if(r.i(c.a)(t)||"string"==typeof t)return r.i(l.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}e.a=n;var o=r(1),i=r(49),s=r(46),u=r(107),c=r(108),a=r(10),f=r(75),l=r(73),h=r(74),p=r(51)},function(t,e,r){"use strict";function n(t,e){return e?new o.a(function(r){var n=new i.a,o=0;return n.add(e.schedule(function(){if(o===t.length)return void r.complete();r.next(t[o++]),r.closed||n.add(this.schedule())})),n}):new o.a(r.i(s.a)(t))}e.a=n;var o=r(1),i=r(2),s=r(52)},function(t,e,r){"use strict";function n(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}}e.a=n;var o=r(0),i=r(3),s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))},t}(),u=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.a(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(93),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return n.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending?e:clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(37),i=function(t){function e(r,n){void 0===n&&(n=o.a.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return n.a(e,t),e.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,o):t.prototype.schedule.call(this,r,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},function(t,e,r){"use strict";function n(t,e,n,s){var u=new o.a(t,n,s);return r.i(i.a)(e)(u)}e.a=n;var o=r(63),i=r(51)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.NgxUploadLogger=n;var o=function(){},i=function(){function t(t,e){void 0===e&&(e=!0),this._console=t,this._debugEnabled=e}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._invokeConsoleMethod("log",t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._invokeConsoleMethod("info",t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._invokeConsoleMethod("warn",t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._invokeConsoleMethod("error",t)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._debugEnabled&&this._invokeConsoleMethod("debug",t)},t.prototype._invokeConsoleMethod=function(t,e){var r=this._console[t]||this._console.log||o;r.apply||(r=Function.prototype.bind.call(r,this._console)),r.apply(this._console,e)},t}();e.ConsoleLogger=i;var s=function(){function t(){}return t.prototype.log=function(){},t.prototype.info=function(){},t.prototype.warn=function(){},t.prototype.error=function(){},t.prototype.debug=function(){},t}();e.NoOpLogger=s},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){(new Error).stack}n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),o=function(t){function e(){var r=t.call(this,"object unsubscribed")||this;return r.name="ObjectUnsubscribedError",Object.setPrototypeOf(r,e.prototype),r}return n.a(e,t),e}(Error)},function(t,e,r){"use strict";function n(t){return"function"==typeof t}e.a=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,r){this.file=t,this.uploadService=e,this.logger=r,this.isReady=!0,this.progress=0,this.formData=new FormData,this.alias="file"}return t.prototype.upload=function(t,e){t?this.uploadService.uploadFileItem(this,t,e):this.logger.error("You must define a UploadEndPoint object.")},t.prototype.cancel=function(){this.logger.debug("upload cancel"),this.uploadInProgress&&(this.ɵonCancel(),this.uploadService.cancelFileItem(this))},t.prototype.remove=function(){this.logger.debug("upload remove"),this.uploadService.removeFromQueue(this)},t.prototype.ɵonBeforeUploadItem=function(){this.isReady=!0,this.uploadInProgress=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0},t.prototype.ɵonProgress=function(t){this.isReady=!1,this.progress=t},t.prototype.ɵonSuccess=function(){this.isReady=!1,this.uploadInProgress=!1,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100},t.prototype.ɵonError=function(){this.isReady=!1,this.uploadInProgress=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0},t.prototype.ɵonCancel=function(){this.isReady=!0,this.uploadInProgress=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.sub.unsubscribe()},t}();e.FileItem=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6);e.NGX_DROP_TARGET_OPTIONS=new n.InjectionToken("Ngx drop Zone Options"),e.NGX_UPLOAD_STRATEGY=new n.InjectionToken("Ngx Upload Strategy"),e.NGX_LOGGER_OPTIONS=new n.InjectionToken("Ngx Logger Options"),e.ngxDropTargetOptions={color:"",colorDrag:"",colorDrop:"",multiple:!0},e.ngxloggerOptions={enabled:!1,debug:!0},e.ngxInputFileOptions={multiple:!0}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),u=r(18),c=r(112),a=r(57),f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.logger=e,n.httpClient=r,n}return n(e,t),e.prototype.uploadFileItem=function(t,e,r){var n=this;void 0===r&&(r={}),this.logger.info("enter uploadService.uploadFileItem()");var o=e.method,i=e.url,s=this.queue.indexOf(t),u=this.queue[s];if(this.onBeforeUploadItem(u),!u.isCancel){u.uploadInProgress=!0;var a=u.formData;a.append(u.alias,u.file,u.file.name);var f=new c.HttpRequest(o,i,a,Object.assign(r,{reportProgress:!0}));t.sub=this.httpClient.request(f).subscribe(function(e){if(e.type===c.HttpEventType.UploadProgress){var r=Math.round(100*e.loaded/(e.total?e.total:e.loaded));n.logger.debug("File is "+r+"% uploaded."),t.ɵonProgress(r),n.onProgressItem(u,r)}else e instanceof c.HttpResponse&&(u.ɵonSuccess(),n.onSuccess(u,e.body,e.status,e.headers))},function(t){t instanceof c.HttpErrorResponse&&("ngx_upload_mock"===i?(u.ɵonSuccess(),n.onSuccess(u,t.message,t.status,t.headers)):t.error instanceof Error?(u.ɵonError(),n.onError(u,t.error.message,t.status,t.headers)):(u.ɵonError(),n.onError(u,t.error,t.status,t.headers)))})}},e.prototype.cancelFileItem=function(t){this.progressTotal=this.computeTotalProgress(),this.onCancel$.next(t)},e=o([s.Injectable(),i("design:paramtypes",[u.NgxUploadLogger,c.HttpClient])],e)}(a.AbstractUploadService);e.HttpClientUploadService=f},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),u=r(18),c=r(57),a=r(34),f=function(t){function e(e){var r=t.call(this,e)||this;return r.logger=e,r}return n(e,t),e.prototype.uploadFileItem=function(t,e,r){var n=this;void 0===r&&(r={}),this.logger.info("enter uploadService.uploadFileItem()");var o=e.method,i=e.url,s=this.queue.indexOf(t),u=this.queue[s];this.onBeforeUploadItem(u),u.isCancel||(u.uploadInProgress=!0,t.sub=new a.Observable(function(t){n.xhr=new XMLHttpRequest,n.xhr.open(o,i,!0),n.withCredentials&&(n.xhr.withCredentials=!0),n.headers.forEach(function(t,e){n.xhr.setRequestHeader(e,t.join(","))});var e=function(){var e=n.xhr.status>=200&&n.xhr.status<300;"ngx_upload_mock"===i?(t.next(n.xhr.response),n.onSuccess(u,n.xhr.response,n.xhr.status,n.xhr.getAllResponseHeaders()),t.complete()):e?(t.next(n.xhr.response),n.onSuccess(u,n.xhr.response,n.xhr.status,n.xhr.getAllResponseHeaders()),t.complete()):(t.error(n.xhr.response),n.onError(u,n.xhr.response,n.xhr.status,n.xhr.getAllResponseHeaders()))},r=function(e){t.error(n.xhr.response),n.onError(u,n.xhr.response,n.xhr.status,n.xhr.getAllResponseHeaders())},s=function(t){var e=Math.round(t.lengthComputable?100*t.loaded/t.total:0);n.logger.debug("progress : "+e),n.onProgressItem(u,e)};n.xhr.addEventListener("load",e),n.xhr.addEventListener("error",r),n.xhr.upload.addEventListener("progress",s);var c;return n.disableMultipart?(n.logger.debug(u.file),c=u.file):(c=u.formData,c.append(u.alias,u.file,u.file.name)),n.xhr.send(c),function(){n.xhr.removeEventListener("error",r),n.xhr.removeEventListener("load",e),n.xhr.upload.removeEventListener("progress",s),n.xhr.abort()}}).subscribe())},e.prototype.cancelFileItem=function(t){this.progressTotal=this.computeTotalProgress(),this.onCancel$.next(t)},e=o([s.Injectable(),i("design:paramtypes",[u.NgxUploadLogger])],e)}(c.AbstractUploadService);e.XhrUploadService=f},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),o=r(8),i=r(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return n.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.a)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(r.i(o.a)(n)?t.pop():n=void 0,t.length){case 0:return r.i(s.a)(n);case 1:return n?r.i(i.a)(t,n):r.i(u.a)(t[0]);default:return r.i(i.a)(t,n)}}e.a=n;var o=r(7),i=r(10),s=r(5),u=r(84)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(14),o=r(15),i=new o.a(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,r){"use strict";function n(t){setTimeout(function(){throw t})}e.a=n},function(t,e,r){"use strict";function n(t){return t}e.a=n},function(t,e,r){"use strict";function n(){}e.a=n},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),u=r(58),c=r(56),a=function(){function t(t,e,r,n,o){this.injector=t,this.uploader=e,this.renderer=r,this.ngForm=n,this.formGroupDirective=o,this.files=new Set,this.ngForm?this.formGroup=n.form:this.formGroupDirective?this.formGroup=o.form:this.formGroup=null}return t.prototype.onFilesAdded=function(){this.uploader.addToQueue(this.file.nativeElement.files,this.formGroup),this.file.nativeElement.value=""},t.prototype.ngOnInit=function(){!1!==this.options.multiple&&this.renderer.setProperty(this.file.nativeElement,"multiple","multiple"),this.options.accept&&this.renderer.setProperty(this.file.nativeElement,"accept",this.options.accept.join()),this.options.capture&&this.renderer.setProperty(this.file.nativeElement,"capture",this.options.capture)},n([s.ViewChild("file"),o("design:type",Object)],t.prototype,"file",void 0),t=n([s.Component({selector:"ngx-upload-inputfile",template:'\n      <label class="input-file">\n          <input type="file" #file (change)="onFilesAdded()">\n          <ng-content></ng-content>\n      </label>',styles:['input[type="file"] { display: none; } .input-file { width: 100%; }']}),i(3,s.Optional()),i(4,s.Optional()),o("design:paramtypes",[s.Injector,c.HttpClientUploadService,s.Renderer2,u.NgForm,u.FormGroupDirective])],t)}();e.InputfileComponent=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);r.d(e,"Observable",function(){return n.a});var o=r(65);r.d(e,"ConnectableObservable",function(){return o.a});var i=r(89);r.d(e,"GroupedObservable",function(){return i.a});var s=r(12);r.d(e,"observable",function(){return s.a});var u=r(8);r.d(e,"Subject",function(){return u.a});var c=r(62);r.d(e,"BehaviorSubject",function(){return c.a});var a=r(64);r.d(e,"ReplaySubject",function(){return a.a});var f=r(26);r.d(e,"AsyncSubject",function(){return f.a});var l=r(102);r.d(e,"asapScheduler",function(){return l.a});var h=r(28);r.d(e,"asyncScheduler",function(){return h.a});var p=r(43);r.d(e,"queueScheduler",function(){return p.a});var d=r(101);r.d(e,"animationFrameScheduler",function(){return d.a});var v=r(100);r.d(e,"VirtualTimeScheduler",function(){return v.a}),r.d(e,"VirtualAction",function(){return v.b});var b=r(37);r.d(e,"Scheduler",function(){return b.a});var y=r(2);r.d(e,"Subscription",function(){return y.a});var g=r(3);r.d(e,"Subscriber",function(){return g.a});var m=r(35);r.d(e,"Notification",function(){return m.a});var _=r(50);r.d(e,"pipe",function(){return _.a});var x=r(32);r.d(e,"noop",function(){return x.a});var w=r(31);r.d(e,"identity",function(){return w.a});var E=r(109);r.d(e,"isObservable",function(){return E.a});var O=r(103);r.d(e,"ArgumentOutOfRangeError",function(){return O.a});var S=r(104);r.d(e,"EmptyError",function(){return S.a});var I=r(20);r.d(e,"ObjectUnsubscribedError",function(){return I.a});var j=r(44);r.d(e,"UnsubscriptionError",function(){return j.a});var T=r(106);r.d(e,"TimeoutError",function(){return T.a});var P=r(66);r.d(e,"bindCallback",function(){return P.a});var R=r(67);r.d(e,"bindNodeCallback",function(){return R.a});var C=r(68);r.d(e,"combineLatest",function(){return C.a});var N=r(69);r.d(e,"concat",function(){return N.a});var A=r(39);r.d(e,"defer",function(){return A.a});var D=r(5);r.d(e,"empty",function(){return D.a});var F=r(70);r.d(e,"forkJoin",function(){return F.a});var k=r(9);r.d(e,"from",function(){return k.a});var U=r(71);r.d(e,"fromEvent",function(){return U.a});var M=r(72);r.d(e,"fromEventPattern",function(){return M.a});var V=r(76);r.d(e,"generate",function(){return V.a});var G=r(77);r.d(e,"iif",function(){return G.a});var L=r(78);r.d(e,"interval",function(){return L.a});var q=r(79);r.d(e,"merge",function(){return q.a});var H=r(40);r.d(e,"never",function(){return H.a});var Y=r(27);r.d(e,"of",function(){return Y.a});var $=r(80);r.d(e,"onErrorResumeNext",function(){return $.a});var X=r(81);r.d(e,"pairs",function(){return X.a});var B=r(82);r.d(e,"race",function(){return B.a});var Q=r(83);r.d(e,"range",function(){return Q.a});var z=r(41);r.d(e,"throwError",function(){return z.a});var W=r(85);r.d(e,"timer",function(){return W.a});var J=r(86);r.d(e,"using",function(){return J.a});var Z=r(87);r.d(e,"zip",function(){return Z.a}),r.d(e,"EMPTY",function(){return D.b}),r.d(e,"NEVER",function(){return H.b});var K=r(19);r.d(e,"config",function(){return K.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(5),o=r(27),i=r(41),s=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.i(o.a)(this.value);case"E":return r.i(i.a)(this.error);case"C":return r.i(n.a)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(19),o=r(30),i={closed:!0,next:function(t){},error:function(t){if(n.a.useDeprecatedSynchronousErrorHandling)throw t;r.i(o.a)(t)},complete:function(){}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(2),i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(o.a)},function(t,e,r){"use strict";function n(t){return new o.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?r.i(i.a)(n):r.i(s.a)()).subscribe(e)})}e.a=n;var o=r(1),i=r(9),s=r(5)},function(t,e,r){"use strict";function n(){return s}r.d(e,"b",function(){return s}),e.a=n;var o=r(1),i=r(32),s=new o.a(i.a)},function(t,e,r){"use strict";function n(t,e){return e?new i.a(function(r){return e.schedule(o,0,{error:t,subscriber:r})}):new i.a(function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}e.a=n;var i=r(1)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.i(o.a)(i.a,t)}e.a=n;var o=r(90),i=r(31)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(98),o=r(99),i=new o.a(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),o=function(t){function e(r){var n=t.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return n.errors=r,n.name="UnsubscriptionError",Object.setPrototypeOf(n,e.prototype),n}return n.a(e,t),e}(Error)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={e:{}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,r){"use strict";function n(t){return!r.i(o.a)(t)&&t-parseFloat(t)+1>=0}e.a=n;var o=r(4)},function(t,e,r){"use strict";function n(t){return null!=t&&"object"==typeof t}e.a=n},function(t,e,r){"use strict";function n(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.a=n},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.a}e.a=n,e.b=o;var i=r(32)},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var n=r(1),o=r(52),i=r(55),s=r(53),u=r(54),c=r(46),a=r(49),f=r(48),l=r(16),h=r(12),p=function(t){if(t instanceof n.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.a])return r.i(u.a)(t);if(r.i(c.a)(t))return r.i(o.a)(t);if(r.i(a.a)(t))return r.i(i.a)(t);if(t&&"function"==typeof t[l.a])return r.i(s.a)(t);var e=r.i(f.a)(t)?"an invalid object":"'"+t+"'",p="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(p)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.closed||e.complete()}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(16),o=function(t){return function(e){for(var r=t[n.a]();;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof r.return&&e.add(function(){r.return&&r.return()}),e}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(12),o=function(t){return function(e){var r=t[n.a]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(30),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,n.a),e}}},function(t,e,r){"use strict";function n(t){if(null!=t.enabled?t.enabled:i.isDevMode()){var e="object"==typeof console?console:{},r=null==t.debug||t.debug;return new c.ConsoleLogger(e,r)}return new c.NoOpLogger}var o=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),s=r(23),u=r(59),c=r(18),a=r(25),f=r(24),l=r(61),h=r(60),p=r(33),d=r(22);e.FileItem=d.FileItem;var v=r(25);e.XhrUploadService=v.XhrUploadService;var b=r(24);e.HttpClientUploadService=b.HttpClientUploadService;var y=[u.NgxDragAndDropDirective,l.NgxThumbnailDirective,h.NgxInputFileDirective,p.InputfileComponent];e._loggerFactory=n;var g=function(){function t(){}e=t,t.forRoot=function(t,r){return{ngModule:e,providers:[{provide:s.NGX_LOGGER_OPTIONS,useValue:r||s.ngxloggerOptions},{provide:s.NGX_DROP_TARGET_OPTIONS,useValue:t||s.ngxDropTargetOptions},{provide:s.NGX_UPLOAD_STRATEGY,useValue:f.HttpClientUploadService},{provide:c.NgxUploadLogger,useFactory:n,deps:[s.NGX_LOGGER_OPTIONS]},a.XhrUploadService,f.HttpClientUploadService]}};var e;return t=e=o([i.NgModule({declarations:y.slice(),exports:y.slice(),entryComponents:[p.InputfileComponent]})],t)}();e.NgxUploadModule=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(22),o=r(34),i=function(){function t(t){this.logger=t,this.progressTotal=0,this.onCancel$=new o.Subject,this.onError$=new o.Subject,this.onDropError$=new o.Subject,this.onSuccess$=new o.Subject,this.onBeforeUploadItem$=new o.Subject,this.onProgress$=new o.Subject,this.onAddToQueue$=new o.Subject,this.queue=new Array,this.headers=new Map,this.disableMultipart=!1}return t.prototype.addToQueue=function(t,e,r){if(this.logger.info("add to queue"),r&&!r.multiple&&t.length>1)return this.logger.error("there is more than one file."),void this.onDropError$.next({errorAccept:!1,errorMultiple:!0});for(var o=this,i=0;i<t.length;i++)!function(i){var s=t.item(i);if(o.logger.debug(t.item(i)),r&&r.accept){if(!r.accept.some(function(t){return t===s.type}))return o.logger.error("this file is not accepted because of its type",s),o.onDropError$.next({item:s,errorAccept:!0,errorMultiple:!1}),"continue"}var u=new n.FileItem(s,o,o.logger);e&&Object.keys(e.controls).forEach(function(t){u.formData.append(t,e.get(t).value)}),o.queue.push(u),o.onAddToQueue$.next(u)}(i)},t.prototype.uploadAll=function(t,e){var r=this.queue.filter(function(t){return t.isReady});if(r.length)for(var n=0,o=r;n<o.length;n++){var i=o[n];i.upload(t,e)}},t.prototype.cancelAll=function(){var t=this.queue.filter(function(t){return t.uploadInProgress});if(t.length){for(var e=0,r=t;e<r.length;e++){r[e].cancel()}this.progressTotal=this.computeTotalProgress()}},t.prototype.removeAllFromQueue=function(){var t=this.queue.filter(function(t){return!t.uploadInProgress&&!t.isSuccess});if(t.length)for(var e=0,r=t;e<r.length;e++){var n=r[e];this.removeFromQueue(n)}},t.prototype.removeFromQueue=function(t){var e=this.queue.indexOf(t),r=this.queue[e];r.uploadInProgress&&r.cancel(),this.queue.splice(e,1),this.progressTotal=this.computeTotalProgress()},t.prototype.computeTotalProgress=function(){for(var t=0,e=0,r=0,n=this.queue;r<n.length;r++){var o=n[r];(o.uploadInProgress||o.isSuccess)&&(t+=o.file.size/100*o.progress||0,e+=o.file.size,this.logger.debug(t+" / "+e))}return Math.round(100*t/e)},t.prototype.onBeforeUploadItem=function(t){this.logger.info("enter uploadService.ɵonBeforeUploadItem()"),t.ɵonBeforeUploadItem(),this.onBeforeUploadItem$.next(t)},t.prototype.onProgressItem=function(t,e){this.logger.info("call onProgressItem "+t+" "+e),this.progressTotal=this.computeTotalProgress(),t.ɵonProgress(e),this.onProgress$.next({item:t,progress:e})},t.prototype.onError=function(t,e,r,n){this.logger.info("call onError "+t+" "+e+" "+r+" "+n),t.ɵonError(),this.onError$.next({item:t,body:e,status:r,headers:n})},t.prototype.onSuccess=function(t,e,r,n){this.logger.info("call onSuccess "+t+" "+e+" "+r+" "+n),this.progressTotal=this.computeTotalProgress(),t.ɵonSuccess(),this.onSuccess$.next({item:t,body:e,status:r,headers:n})},t}();e.AbstractUploadService=i},function(t,r){t.exports=e},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),u=r(58),c=r(23),a=r(18),f=function(){function t(t,e,r,n,o,i,s,u){this.el=t,this.renderer=e,this.injector=r,this.logger=n,this.dropOptions=o,this.strategy=i,this.ngForm=s,this.formGroupDirective=u,this.ngForm?this.formGroup=s.form:this.formGroupDirective?this.formGroup=u.form:this.formGroup=null}return Object.defineProperty(t.prototype,"ngxDragAndDrop",{set:function(t){t&&(this.logger.debug(JSON.stringify(t)),this.dropOptions=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.dropOptions.color),this.logger.info("strategy : "+this.strategy.toString()),this.uploader=this.injector.get(this.strategy)},t.prototype.onDragLeave=function(t){this.logger.debug("dragleave event"),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.colorDrag),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.colorDrop),this.renderer.addClass(this.el.nativeElement,this.dropOptions.color),this.stopAndPrevent(t)},t.prototype.dropEvent=function(t){this.logger.debug("drop event"),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.color),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.colorDrag),this.renderer.addClass(this.el.nativeElement,this.dropOptions.colorDrop);var e=this.getTransfer(t);e&&(e.dropEffect="copy",this.stopAndPrevent(t),this.uploader.addToQueue(e.files,this.formGroup,this.dropOptions))},t.prototype.onDragOver=function(t){this.logger.debug("dragover event"),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.color),this.renderer.removeClass(this.el.nativeElement,this.dropOptions.colorDrop),this.renderer.addClass(this.el.nativeElement,this.dropOptions.colorDrag);var e=this.getTransfer(t);this.haveFiles(e.types)&&this.stopAndPrevent(t)},t.prototype.stopAndPrevent=function(t){t.stopPropagation(),t.preventDefault()},t.prototype.getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype.haveFiles=function(t){return!!t&&(t.indexOf?-1!==t.indexOf("Files"):!!t.contains&&t.contains("Files"))},n([s.Input(),o("design:type",Object),o("design:paramtypes",[Object])],t.prototype,"ngxDragAndDrop",null),n([s.HostListener("dragleave",["$event"]),o("design:type",Function),o("design:paramtypes",[DragEvent]),o("design:returntype",void 0)],t.prototype,"onDragLeave",null),n([s.HostListener("drop",["$event"]),o("design:type",Function),o("design:paramtypes",[Event]),o("design:returntype",void 0)],t.prototype,"dropEvent",null),n([s.HostListener("dragover",["$event"]),o("design:type",Function),o("design:paramtypes",[DragEvent]),o("design:returntype",void 0)],t.prototype,"onDragOver",null),t=n([s.Directive({selector:"[ngxDragAndDrop]",exportAs:"ngxDragAndDrop"}),i(4,s.Inject(c.NGX_DROP_TARGET_OPTIONS)),i(5,s.Inject(c.NGX_UPLOAD_STRATEGY)),i(6,s.Optional()),i(7,s.Optional()),o("design:paramtypes",[s.ElementRef,s.Renderer2,s.Injector,a.NgxUploadLogger,Object,Object,u.NgForm,u.FormGroupDirective])],t)}();e.NgxDragAndDropDirective=f},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),s=r(33),u=r(23),c=function(){function t(t,e,r,n){this.resolver=t,this.injector=e,this.vcRef=r,this.templateRef=n}return t.prototype.ngOnInit=function(){var t=this.templateRef.createEmbeddedView(null),e=this.resolver.resolveComponentFactory(s.InputfileComponent);this.vcRef.createComponent(e,0,this.injector,[t.rootNodes]).instance.options=this.ngxInputFile?this.ngxInputFile:u.ngxInputFileOptions,t.detectChanges()},n([i.Input(),o("design:type",Object)],t.prototype,"ngxInputFile",void 0),t=n([i.Directive({selector:"[ngxInputFile]"}),o("design:paramtypes",[i.ComponentFactoryResolver,i.Injector,i.ViewContainerRef,i.TemplateRef])],t)}();e.NgxInputFileDirective=c},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),s=r(22),u=function(){function t(t,e){this.renderer=t,this.el=e}return t.prototype.ngOnInit=function(){var t=this;if(0===this.fileItem.file.type.indexOf("image/jpeg")||0===this.fileItem.file.type.indexOf("image/png")){var e=this.renderer.createElement("img");this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setStyle(e,"width","100px"),this._getOrientation(this.fileItem.file,function(r){var n=new Image,o=new FileReader;o.onload=function(o){n.onload=function(){var o=n.width,i=n.height,s=document.createElement("canvas"),u=s.getContext("2d");switch(4<r&&r<9?(s.width=i,s.height=o):(s.width=o,s.height=i),r){case 2:u.transform(-1,0,0,1,o,0);break;case 3:u.transform(-1,0,0,-1,o,i);break;case 4:u.transform(1,0,0,-1,0,i);break;case 5:u.transform(0,1,1,0,0,0);break;case 6:u.transform(0,1,-1,0,i,0);break;case 7:u.transform(0,-1,-1,0,i,o);break;case 8:u.transform(0,-1,1,0,0,o)}u.drawImage(n,0,0),t.renderer.setProperty(e,"src",s.toDataURL())},n.src=o.target.result},o.readAsDataURL(t.fileItem.file)})}},t.prototype._getOrientation=function(t,e){var r=new FileReader;r.onload=function(t){var r=new DataView(t.target.result);if(65496!==r.getUint16(0,!1))return e(-2);for(var n=r.byteLength,o=2;o<n;){var i=r.getUint16(o,!1);if(o+=2,65505===i){if(1165519206!==r.getUint32(o+=2,!1))return e(-1);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var u=r.getUint16(o,s);o+=2;for(var c=0;c<u;c++)if(274===r.getUint16(o+12*c,s))return e(r.getUint16(o+12*c+8,s))}else{if(65280!=(65280&i))break;o+=r.getUint16(o,!1)}}return e(-1)},r.readAsArrayBuffer(t.slice(0,65536))},n([i.Input("ngxThumbnail"),o("design:type",s.FileItem)],t.prototype,"fileItem",void 0),t=n([i.Directive({selector:"[ngxThumbnail]",exportAs:"ngxThumbnail"}),o("design:paramtypes",[i.Renderer2,i.ElementRef])],t)}();e.NgxThumbnailDirective=u},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),o=r(8),i=r(20),s=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return n.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(3),i=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return n.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var n=r(0),o=r(8),i=r(43),s=r(2),u=r(91),c=r(20),a=r(38),f=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=n,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return n.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=n.length;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new a.a(this,t)),o&&t.add(t=new u.a(t,o)),r)for(var f=0;f<i&&!t.closed;f++)t.next(n[f]);else for(var f=0;f<i&&!t.closed;f++)t.next(n[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(t-n[i].time<r);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&n.splice(0,i),n},e}(o.a),l=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(0),o=r(8),i=r(1),s=r(3),u=r(2),c=r(92),a=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=u.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return r.i(c.a)()(this)},e}(i.a),f=a.prototype,l=(f._subscribe,f._isComplete,f.getSubject,f.connect,f.refCount,function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b));s.a},function(t,e,r){"use strict";function n(t,e,i){if(e){if(!r.i(f.a)(e))return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n(t,i).apply(void 0,o).pipe(r.i(c.a)(function(t){return r.i(a.a)(t)?e.apply(void 0,t):e(t)}))};i=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n,c=this,a={context:c,subject:n,callbackFunc:t,scheduler:i};return new s.a(function(r){if(i){var s={args:e,subscriber:r,params:a};return i.schedule(o,0,s)}if(!n){n=new u.a;var f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.next(t.length<=1?t[0]:t),n.complete()};try{t.apply(c,e.concat([f]))}catch(t){n.error(t)}}return n.subscribe(r)})}}function o(t){var e=this,r=t.args,n=t.subscriber,o=t.params,s=o.callbackFunc,c=o.context,a=o.scheduler,f=o.subject;if(!f){f=o.subject=new u.a;var l=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(a.schedule(i,0,{value:n,subject:f}))};try{s.apply(c,r.concat([l]))}catch(t){f.error(t)}}this.add(f.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}e.a=n;var s=r(1),u=r(26),c=r(11),a=r(4),f=r(7)},function(t,e,r){"use strict";function n(t,e,i){if(e){if(!r.i(f.a)(e))return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n(t,i).apply(void 0,o).pipe(r.i(a.a)(function(t){return r.i(l.a)(t)?e.apply(void 0,t):e(t)}))};i=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={subject:void 0,args:e,callbackFunc:t,scheduler:i,context:this};return new u.a(function(r){var s=n.context,u=n.subject;if(i)return i.schedule(o,0,{params:n,subscriber:r,context:s});if(!u){u=n.subject=new c.a;var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();if(r)return void u.error(r);u.next(t.length<=1?t[0]:t),u.complete()};try{t.apply(s,e.concat([a]))}catch(t){u.error(t)}}return u.subscribe(r)})}}function o(t){var e=this,r=t.params,n=t.subscriber,o=t.context,u=r.callbackFunc,a=r.args,f=r.scheduler,l=r.subject;if(!l){l=r.subject=new c.a;var h=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(f.schedule(s,0,{err:n,subject:l}));else{var o=t.length<=1?t[0]:t;e.add(f.schedule(i,0,{value:o,subject:l}))}};try{u.apply(o,a.concat([h]))}catch(t){this.add(f.schedule(s,0,{err:t,subject:l}))}}this.add(l.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function s(t){var e=t.err;t.subject.error(e)}e.a=n;var u=r(1),c=r(26),a=r(11),f=r(7),l=r(4)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,o=null;return r.i(i.a)(t[t.length-1])&&(o=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&r.i(s.a)(t[0])&&(t=t[0]),r.i(a.a)(t,o).lift(new l(n))}e.a=n;var o=r(0),i=r(7),s=r(4),u=r(13),c=r(17),a=r(10),f={},l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return o.a(e,t),e.prototype._next=function(t){this.values.push(f),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var o=t[n];this.add(r.i(c.a)(this,o,o,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){var i=this.values,s=i[r],u=this.toRespond?s===f?--this.toRespond:this.toRespond:0;i[r]=e,0===u&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.a)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&r.i(o.a)(t[1])?r.i(s.a)(t[0]):r.i(u.a)()(i.a.apply(void 0,t))}e.a=n;var o=r(7),i=r(27),s=r(9),u=r(88)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o;return"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&r.i(s.a)(t[0])&&(t=t[0]),0===t.length?u.b:o?n(t).pipe(r.i(f.a)(function(t){return o.apply(void 0,t)})):new i.a(function(e){return new l(e,t)})}e.a=n;var o=r(0),i=r(1),s=r(4),u=r(5),c=r(17),a=r(13),f=r(11),l=function(t){function e(e,n){var o=t.call(this,e)||this;o.sources=n,o.completed=0,o.haveValues=0;var i=n.length;o.values=new Array(i);for(var s=0;s<i;s++){var u=n[s],a=r.i(c.a)(o,u,null,s);a&&o.add(a)}return o}return o.a(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.values[r]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this,r=e.destination,n=e.haveValues,o=e.values,i=o.length;if(!t._hasValue)return void r.complete();++this.completed===i&&(n===i&&r.next(o),r.complete())},e}(a.a)},function(t,e,r){"use strict";function n(t,e,i,s){return r.i(f.a)(i)&&(s=i,i=void 0),s?n(t,e,i).pipe(r.i(l.a)(function(t){return r.i(a.a)(t)?s.apply(void 0,t):s(t)})):new c.a(function(r){function n(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}o(t,e,n,r,i)})}function o(t,e,r,n,c){var a;if(u(t)){var f=t;t.addEventListener(e,r,c),a=function(){return f.removeEventListener(e,r,c)}}else if(s(t)){var l=t;t.on(e,r),a=function(){return l.off(e,r)}}else if(i(t)){var h=t;t.addListener(e,r),a=function(){return h.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var p=0,d=t.length;p<d;p++)o(t[p],e,r,n,c)}n.add(a)}function i(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function s(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}function u(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}e.a=n;var c=r(1),a=r(4),f=r(21),l=r(11);Object.prototype.toString},function(t,e,r){"use strict";function n(t,e,c){return c?n(t,e).pipe(r.i(u.a)(function(t){return r.i(i.a)(t)?c.apply(void 0,t):c(t)})):new o.a(function(n){var o,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{o=t(i)}catch(t){return void n.error(t)}if(r.i(s.a)(e))return function(){return e(i,o)}})}e.a=n;var o=r(1),i=r(4),s=r(21),u=r(11)},function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new o.a(function(r){var n,o=new i.a;return o.add(function(){n&&"function"==typeof n.return&&n.return()}),o.add(e.schedule(function(){n=t[s.a](),o.add(e.schedule(function(){if(!r.closed){var t,e;try{var o=n.next();t=o.value,e=o.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}}))})),o}):new o.a(r.i(u.a)(t))}e.a=n;var o=r(1),i=r(2),s=r(16),u=r(53)},function(t,e,r){"use strict";function n(t,e){return e?new o.a(function(r){var n=new i.a;return n.add(e.schedule(function(){var o=t[s.a]();n.add(o.subscribe({next:function(t){n.add(e.schedule(function(){return r.next(t)}))},error:function(t){n.add(e.schedule(function(){return r.error(t)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n}):new o.a(r.i(u.a)(t))}e.a=n;var o=r(1),i=r(2),s=r(12),u=r(54)},function(t,e,r){"use strict";function n(t,e){return e?new o.a(function(r){var n=new i.a;return n.add(e.schedule(function(){return t.then(function(t){n.add(e.schedule(function(){r.next(t),n.add(e.schedule(function(){return r.complete()}))}))},function(t){n.add(e.schedule(function(){return r.error(t)}))})})),n}):new o.a(r.i(s.a)(t))}e.a=n;var o=r(1),i=r(2),s=r(55)},function(t,e,r){"use strict";function n(t,e,n,c,a){var f,l;if(1==arguments.length){var h=t;l=h.initialState,e=h.condition,n=h.iterate,f=h.resultSelector||s.a,a=h.scheduler}else void 0===c||r.i(u.a)(c)?(l=t,f=s.a,a=c):(l=t,f=c);return new i.a(function(t){var r=l;if(a)return a.schedule(o,0,{subscriber:t,iterate:n,condition:e,resultSelector:f,state:r});for(;;){if(e){var i=void 0;try{i=e(r)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var s=void 0;try{s=f(r)}catch(e){return void t.error(e)}if(t.next(s),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function o(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}}e.a=n;var i=r(1),s=r(31),u=r(7)},function(t,e,r){"use strict";function n(t,e,n){return void 0===e&&(e=i.b),void 0===n&&(n=i.b),r.i(o.a)(function(){return t()?e:n})}e.a=n;var o=r(39),i=r(5)},function(t,e,r){"use strict";function n(t,e){return void 0===t&&(t=0),void 0===e&&(e=s.a),(!r.i(u.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=s.a),new i.a(function(r){return r.add(e.schedule(o,t,{subscriber:r,counter:0,period:t})),r})}function o(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}e.a=n;var i=r(1),s=r(28),u=r(47)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,c=null,a=t[t.length-1];return r.i(i.a)(a)?(c=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof a&&(n=t.pop()),null===c&&1===t.length&&t[0]instanceof o.a?t[0]:r.i(s.a)(n)(r.i(u.a)(t,c))}e.a=n;var o=r(1),i=r(7),s=r(42),u=r(10)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return u.b;var c=t[0],a=t.slice(1);return 1===t.length&&r.i(s.a)(c)?n.apply(void 0,c):new o.a(function(t){var e=function(){return t.add(n.apply(void 0,a).subscribe(t))};return r.i(i.a)(c).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}e.a=n;var o=r(1),i=r(9),s=r(4),u=r(5)},function(t,e,r){"use strict";function n(t,e){return e?new i.a(function(r){var n=Object.keys(t),i=new s.a;return i.add(e.schedule(o,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new i.a(function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var o=r[n];t.hasOwnProperty(o)&&e.next([o,t[o]])}e.complete()})}function o(t){var e=t.keys,r=t.index,n=t.subscriber,o=t.subscription,i=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,i[s]]),o.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:o,obj:i}))}else n.complete()}e.a=n;var i=r(1),s=r(2)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!r.i(i.a)(t[0]))return t[0];t=t[0]}return r.i(s.a)(t,void 0).lift(new a)}e.a=n;var o=r(0),i=r(4),s=r(10),u=r(13),c=r(17),a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new f(t))},t}(),f=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return o.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var o=t[n],i=r.i(c.a)(this,o,o,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==r){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(u.a)},function(t,e,r){"use strict";function n(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),new i.a(function(n){var i=0,s=t;if(r)return r.schedule(o,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}})}function o(t){var e=t.start,r=t.index,n=t.count,o=t.subscriber;if(r>=n)return void o.complete();o.next(e),o.closed||(t.index=r+1,t.start=e+1,this.schedule(t))}e.a=n;var i=r(1)},function(t,e,r){"use strict";function n(t){var e=new o.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}e.a=n;var o=r(1)},function(t,e,r){"use strict";function n(t,e,n){void 0===t&&(t=0);var a=-1;return r.i(u.a)(e)?a=Number(e)<1&&1||Number(e):r.i(c.a)(e)&&(n=e),r.i(c.a)(n)||(n=s.a),new i.a(function(e){var i=r.i(u.a)(t)?t:+t-n.now();return n.schedule(o,i,{index:0,period:a,subscriber:e})})}function o(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}e.a=n;var i=r(1),s=r(28),u=r(47),c=r(7)},function(t,e,r){"use strict";function n(t,e){return new o.a(function(n){var o;try{o=t()}catch(t){return void n.error(t)}var u;try{u=e(o)}catch(t){return void n.error(t)}var c=u?r.i(i.a)(u):s.b,a=c.subscribe(n);return function(){a.unsubscribe(),o&&o.unsubscribe()}})}e.a=n;var o=r(1),i=r(9),s=r(5)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),r.i(i.a)(t,void 0).lift(new l(n))}e.a=n;var o=r(0),i=r(10),s=r(4),u=r(3),c=r(13),a=r(17),f=r(16),l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof r?r:null,o.values=n,o}return o.a(e,t),e.prototype._next=function(t){var e=this.iterators;r.i(s.a)(t)?e.push(new d(t)):"function"==typeof t[f.a]?e.push(new p(t[f.a]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){var o=t[n];if("function"==typeof o.hasValue&&!o.hasValue())return}for(var i=!1,s=[],n=0;n<e;n++){var o=t[n],u=o.next();if(o.hasCompleted()&&(i=!0),u.done)return void r.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[f.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.parent=r,o.observable=n,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return o.a(e,t),e.prototype[f.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return r.i(a.a)(this,this.observable,this,e)},e}(c.a)},function(t,e,r){"use strict";function n(){return r.i(o.a)(1)}e.a=n;var o=r(42)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(0),o=r(3),i=r(2),s=r(1),u=r(8),c=(o.a,function(t){function e(e,r,n){var o=t.call(this,r)||this;return o.key=e,o.group=r,o.parent=n,o}return n.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,r=t.key;this.key=this.parent=null,e&&e.removeGroup(r)},e}(o.a)),a=function(t){function e(e,r,n){var o=t.call(this)||this;return o.key=e,o.groupSubject=r,o.refCountSubscription=n,o}return n.a(e,t),e.prototype._subscribe=function(t){var e=new i.a,r=this,n=r.refCountSubscription,o=r.groupSubject;return n&&!n.closed&&e.add(new f(n)),e.add(o.subscribe(t)),e},e}(s.a),f=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return n.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(i.a)},function(t,e,r){"use strict";function n(t,e,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(n(function(n,o){return r.i(c.a)(t(n,o)).pipe(r.i(u.a)(function(t,r){return e(n,t,o,r)}))},o))}:("number"==typeof e&&(o=e),function(e){return e.lift(new a(t,o))})}e.a=n;var o=r(0),i=r(17),s=r(13),u=r(11),c=r(9),a=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}(),f=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,n){this.add(r.i(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),o=r(3),i=r(35),s=function(t){function e(e,r,n){void 0===n&&(n=0);var o=t.call(this,e)||this;return o.scheduler=r,o.delay=n,o}return n.a(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(i.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(i.a.createError(t))},e.prototype._complete=function(){this.scheduleMessage(i.a.createComplete())},e}(o.a),u=function(){function t(t,e){this.notification=t,this.destination=e}return t}()},function(t,e,r){"use strict";function n(){return function(t){return t.lift(new s(t))}}e.a=n;var o=r(0),i=r(3),s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new u(t,r),o=e.subscribe(n);return n.closed||(n.connection=r.connect()),o},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()},e}(i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(2),i=function(t){function e(e,r){return t.call(this)||this}return n.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(14),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.a(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(15),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),o=r(105),i=r(14),s=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.a(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.a.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(o.a.clearImmediate(r),e.scheduled=void 0)},e}(i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(15),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(14),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(0),o=r(15),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.a(e,t),e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return s}),r.d(e,"b",function(){return u});var n=r(0),o=r(14),i=r(15),s=function(t){function e(e,r){void 0===e&&(e=u),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return n.a(e,t),e.prototype.flush=function(){for(var t,e,r=this,n=r.actions,o=r.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=o&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(i.a),u=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var o=t.call(this,e,r)||this;return o.scheduler=e,o.work=r,o.index=n,o.active=!0,o.index=e.index=n,o}return n.a(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(94),o=r(95),i=new o.a(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(96),o=r(97),i=new o.a(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),o=function(t){function e(){var r=t.call(this,"argument out of range")||this;return r.name="ArgumentOutOfRangeError",Object.setPrototypeOf(r,e.prototype),r}return n.a(e,t),e}(Error)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),o=function(t){function e(){var r=t.call(this,"no elements in sequence")||this;return r.name="EmptyError",Object.setPrototypeOf(r,e.prototype),r}return n.a(e,t),e}(Error)},function(t,e,r){"use strict";function n(t){var e=i[t];e&&e()}r.d(e,"a",function(){return s});var o=1,i={},s={setImmediate:function(t){var e=o++;return i[e]=t,Promise.resolve().then(function(){return n(e)}),e},clearImmediate:function(t){delete i[t]}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),o=function(t){function e(){var r=t.call(this,"Timeout has occurred")||this;return r.name="TimeoutError",Object.setPrototypeOf(r,e.prototype),r}return n.a(e,t),e}(Error)},function(t,e,r){"use strict";function n(t){return t&&"function"==typeof t[o.a]}e.a=n;var o=r(12)},function(t,e,r){"use strict";function n(t){return t&&"function"==typeof t[o.a]}e.a=n;var o=r(16)},function(t,e,r){"use strict";function n(t){return!!t&&(t instanceof o.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}e.a=n;var o=r(1)},function(t,e,r){"use strict";function n(t,e,r){if(t){if(t instanceof o.a)return t;if(t[i.a])return t[i.a]()}return t||e||r?new o.a(t,e,r):new o.a(s.a)}e.a=n;var o=r(3),i=r(29),s=r(36)},function(t,e,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return s.a.e=t,s.a}}function o(t){return i=t,n}e.a=o;var i,s=r(45)},function(t,e){t.exports=r}])});
//# sourceMappingURL=ngx-upload.umd.min.js.map